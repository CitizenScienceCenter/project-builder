{"id":"wh7r","dependencies":[{"name":"/home/encima/dev/uzh/client/.babelrc","includedInParent":true,"mtime":1569840579421},{"name":"/home/encima/dev/uzh/client/package.json","includedInParent":true,"mtime":1569848817260}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e={template:'\\n      \\x3c!-- This template use https://bootstrap-vue.js.org/ and https://github.com/FranckFreiburger/vue-pdf --\\x3e\\n\\n      <b-row v-if=\"pybossa.userProgressInPercent < 100\">\\n      \\n        \\x3c!-- Form zone --\\x3e\\n        <b-col md=\"4\" class=\"mt-4 mt-md-0 order-2 order-md-1\">\\n        \\n          \\x3c!-- Question --\\x3e\\n          <h2>{{ question }}</h2>\\n    \\n          \\x3c!-- Answer text areas --\\x3e\\n          <b-form-group\\n              :key=\"index\"\\n              v-for=\"(description, index) in descriptions\"\\n              :label=\"description\"\\n              :state=\"isFieldValid(answers[index])\"\\n              invalid-feedback=\"This field is required\"\\n              class=\"mt-4\"\\n            >\\n            <b-form-textarea v-model=\"answers[index]\" rows=\"10\"></b-form-textarea>\\n          </b-form-group>\\n         \\n          \\x3c!-- Submit button --\\x3e\\n          <b-button @click=\"submit\" variant=\"primary\" class=\"mt-2\">Submit transcription!</b-button>\\n          \\n          \\x3c!-- Form validation errors --\\x3e\\n          <b-alert variant=\"danger\" v-model=\"showAlert\" class=\"mt-2\" dismissible>\\n            You must complete the form to submit\\n          </b-alert>\\n          \\n          \\x3c!-- User progress --\\x3e\\n          <p class=\"mt-2\">You are working now on task: <b-badge variant=\"warning\">{{ task.id }}</b-badge></p>\\n          <p>You have completed: <b-badge variant=\"primary\">{{ pybossa.userProgress.done }}</b-badge> tasks from <b-badge variant=\"primary\">{{ pybossa.userProgress.total }}</b-badge></p>\\n          \\n          <b-progress :value=\"pybossa.userProgressInPercent\" :max=\"100\"></b-progress>\\n        </b-col>\\n        \\n        \\x3c!-- Media --\\x3e\\n        <b-col md=\"8\" class=\"order-1 order-md-2\">\\n          <div v-if=\"taskInfo.pdf_url\" class=\"text-center\">\\n            <pdf\\n                v-if=\"pybossa.taskLoaded && taskInfo.page && taskInfo.page.length > 0\"\\n                class=\"w-100 shadow\"\\n                :src=\"taskInfo.pdf_url\"\\n                :page=\"parseInt(taskInfo.page)\">\\n            </pdf>\\n            <div v-else-if=\"pybossa.taskLoaded\">\\n              <b-pagination\\n                v-model=\"currentPage\"\\n                :total-rows=\"pageCount\"\\n                :per-page=\"1\"\\n                align=\"center\">\\n              </b-pagination>\\n              <pdf\\n                  class=\"w-100 shadow\"\\n                  @num-pages=\"pageCount = $event\"\\n                  :src=\"taskInfo.pdf_url\"\\n                  :page=\"currentPage\">\\n              </pdf>\\n            </div>\\n            <b-spinner v-else style=\"width: 4rem; height: 4rem;\" variant=\"primary\" label=\"Pdf loading...\"></b-spinner>\\n          </div>\\n          <b-alert v-else :show=\"true\" variant=\"danger\">Document not available</b-alert>\\n        </b-col>\\n      </b-row>\\n      \\n      \\x3c!-- Task end message --\\x3e\\n      <b-row v-else>\\n        <b-col>\\n          <b-jumbotron header=\"This the end!\" lead=\"Thanks you for your participation\"></b-jumbotron>\\n        </b-col>\\n      </b-row>',data:{question:\"Transcribe the following page\",descriptions:[\"Write here the transcription\"],answers:[],showAlert:!1,pageCount:0,currentPage:1},methods:{submit:function(){this.isFormValid()?(this.pybossa.saveTask(this.answers),this.answers.forEach(function(e,n,s){s[n]=\"\"}),this.showAlert=!1):this.showAlert=!0},isFieldValid:function(e){return e.length>0},isFormValid:function(){return!this.answers.some(function(e){return 0===e.length})}},computed:{task:function(){return this.pybossa.task},taskInfo:function(){return this.task.info}},watch:{},created:function(){var e=this;this.descriptions.forEach(function(){return e.answers.push(\"\")})},mounted:function(){this.pybossa.run()},props:{pybossa:{required:!0}}},n=e;exports.default=n;"},"sourceMaps":{"js":{"mappings":[{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":0}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":13}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":20}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":35}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":43}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":56}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":57}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":64}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":68}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":76}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":89}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":2,"column":0},"generated":{"line":1,"column":91}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":2,"column":6},"generated":{"line":1,"column":95}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":3,"column":2},"generated":{"line":1,"column":97}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"template","original":{"line":4,"column":4},"generated":{"line":1,"column":98}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":3,"column":2},"generated":{"line":1,"column":107}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"data","original":{"line":79,"column":4},"generated":{"line":1,"column":3155}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":79,"column":10},"generated":{"line":1,"column":3160}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"question","original":{"line":80,"column":6},"generated":{"line":1,"column":3161}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":80,"column":16},"generated":{"line":1,"column":3170}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"descriptions","original":{"line":81,"column":6},"generated":{"line":1,"column":3202}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":81,"column":20},"generated":{"line":1,"column":3215}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":82,"column":8},"generated":{"line":1,"column":3216}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"answers","original":{"line":84,"column":6},"generated":{"line":1,"column":3248}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":84,"column":15},"generated":{"line":1,"column":3256}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"showAlert","original":{"line":85,"column":6},"generated":{"line":1,"column":3259}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":85,"column":17},"generated":{"line":1,"column":3270}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"pageCount","original":{"line":86,"column":6},"generated":{"line":1,"column":3272}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":86,"column":17},"generated":{"line":1,"column":3282}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"currentPage","original":{"line":87,"column":6},"generated":{"line":1,"column":3284}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":87,"column":19},"generated":{"line":1,"column":3296}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"methods","original":{"line":90,"column":4},"generated":{"line":1,"column":3299}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":90,"column":13},"generated":{"line":1,"column":3307}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"submit","original":{"line":91,"column":6},"generated":{"line":1,"column":3308}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":91,"column":16},"generated":{"line":1,"column":3315}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":92,"column":12},"generated":{"line":1,"column":3326}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"isFormValid","original":{"line":92,"column":17},"generated":{"line":1,"column":3331}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"pybossa","original":{"line":93,"column":15},"generated":{"line":1,"column":3346}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"pybossa","original":{"line":93,"column":15},"generated":{"line":1,"column":3351}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"saveTask","original":{"line":93,"column":23},"generated":{"line":1,"column":3359}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":93,"column":32},"generated":{"line":1,"column":3368}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"answers","original":{"line":93,"column":37},"generated":{"line":1,"column":3373}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"answers","original":{"line":94,"column":15},"generated":{"line":1,"column":3382}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"answers","original":{"line":94,"column":15},"generated":{"line":1,"column":3387}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"forEach","original":{"line":94,"column":23},"generated":{"line":1,"column":3395}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":94,"column":31},"generated":{"line":1,"column":3403}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"el","original":{"line":94,"column":32},"generated":{"line":1,"column":3412}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"index","original":{"line":94,"column":36},"generated":{"line":1,"column":3414}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"array","original":{"line":94,"column":43},"generated":{"line":1,"column":3416}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"array","original":{"line":95,"column":12},"generated":{"line":1,"column":3419}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"index","original":{"line":95,"column":18},"generated":{"line":1,"column":3421}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":95,"column":27},"generated":{"line":1,"column":3424}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"showAlert","original":{"line":97,"column":15},"generated":{"line":1,"column":3429}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"showAlert","original":{"line":97,"column":15},"generated":{"line":1,"column":3434}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":97,"column":27},"generated":{"line":1,"column":3445}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"showAlert","original":{"line":99,"column":15},"generated":{"line":1,"column":3448}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"showAlert","original":{"line":99,"column":15},"generated":{"line":1,"column":3453}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":99,"column":27},"generated":{"line":1,"column":3464}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"isFieldValid","original":{"line":102,"column":6},"generated":{"line":1,"column":3467}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"field","original":{"line":102,"column":20},"generated":{"line":1,"column":3480}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"field","original":{"line":102,"column":20},"generated":{"line":1,"column":3489}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"field","original":{"line":103,"column":15},"generated":{"line":1,"column":3492}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"field","original":{"line":103,"column":15},"generated":{"line":1,"column":3499}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"length","original":{"line":103,"column":21},"generated":{"line":1,"column":3501}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":103,"column":30},"generated":{"line":1,"column":3508}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"isFormValid","original":{"line":105,"column":6},"generated":{"line":1,"column":3511}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":105,"column":21},"generated":{"line":1,"column":3523}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":106,"column":15},"generated":{"line":1,"column":3534}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":106,"column":16},"generated":{"line":1,"column":3541}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"answers","original":{"line":106,"column":21},"generated":{"line":1,"column":3546}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"some","original":{"line":106,"column":29},"generated":{"line":1,"column":3554}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":106,"column":34},"generated":{"line":1,"column":3559}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"el","original":{"line":106,"column":34},"generated":{"line":1,"column":3568}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"el","original":{"line":106,"column":40},"generated":{"line":1,"column":3571}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":106,"column":54},"generated":{"line":1,"column":3578}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"el","original":{"line":106,"column":40},"generated":{"line":1,"column":3582}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"length","original":{"line":106,"column":43},"generated":{"line":1,"column":3584}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"computed","original":{"line":110,"column":4},"generated":{"line":1,"column":3595}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":110,"column":14},"generated":{"line":1,"column":3604}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"task","original":{"line":111,"column":6},"generated":{"line":1,"column":3605}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":111,"column":14},"generated":{"line":1,"column":3610}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":112,"column":15},"generated":{"line":1,"column":3621}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":112,"column":15},"generated":{"line":1,"column":3628}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"pybossa","original":{"line":112,"column":20},"generated":{"line":1,"column":3633}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"task","original":{"line":112,"column":28},"generated":{"line":1,"column":3641}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"taskInfo","original":{"line":114,"column":6},"generated":{"line":1,"column":3647}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":114,"column":18},"generated":{"line":1,"column":3656}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":115,"column":15},"generated":{"line":1,"column":3667}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":115,"column":15},"generated":{"line":1,"column":3674}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"task","original":{"line":115,"column":20},"generated":{"line":1,"column":3679}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"info","original":{"line":115,"column":25},"generated":{"line":1,"column":3684}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"watch","original":{"line":119,"column":4},"generated":{"line":1,"column":3691}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":119,"column":11},"generated":{"line":1,"column":3697}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"created","original":{"line":123,"column":4},"generated":{"line":1,"column":3700}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":123,"column":15},"generated":{"line":1,"column":3708}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":123,"column":15},"generated":{"line":1,"column":3719}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":123,"column":15},"generated":{"line":1,"column":3723}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":123,"column":15},"generated":{"line":1,"column":3725}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"descriptions","original":{"line":124,"column":11},"generated":{"line":1,"column":3730}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"descriptions","original":{"line":124,"column":11},"generated":{"line":1,"column":3735}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"forEach","original":{"line":124,"column":24},"generated":{"line":1,"column":3748}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":124,"column":32},"generated":{"line":1,"column":3756}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":124,"column":38},"generated":{"line":1,"column":3767}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":124,"column":38},"generated":{"line":1,"column":3774}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"answers","original":{"line":124,"column":43},"generated":{"line":1,"column":3776}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"push","original":{"line":124,"column":51},"generated":{"line":1,"column":3784}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":124,"column":56},"generated":{"line":1,"column":3789}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"mounted","original":{"line":127,"column":4},"generated":{"line":1,"column":3796}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":127,"column":15},"generated":{"line":1,"column":3804}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"pybossa","original":{"line":128,"column":11},"generated":{"line":1,"column":3815}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"pybossa","original":{"line":128,"column":11},"generated":{"line":1,"column":3820}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"run","original":{"line":128,"column":19},"generated":{"line":1,"column":3828}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"props","original":{"line":131,"column":4},"generated":{"line":1,"column":3835}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":131,"column":11},"generated":{"line":1,"column":3841}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"pybossa","original":{"line":133,"column":6},"generated":{"line":1,"column":3842}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":133,"column":15},"generated":{"line":1,"column":3850}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"required","original":{"line":134,"column":8},"generated":{"line":1,"column":3851}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","original":{"line":134,"column":18},"generated":{"line":1,"column":3861}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":3866}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":3868}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":3870}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":3878}},{"source":"components/Task/Template/Document/PdfDescriptionTemplate.js","name":"component","original":{"line":139,"column":15},"generated":{"line":1,"column":3886}}],"sources":{"components/Task/Template/Document/PdfDescriptionTemplate.js":"// eslint-disable-next-line no-unused-vars\nconst component =\n  {\n    template: `\n      <!-- This template use https://bootstrap-vue.js.org/ and https://github.com/FranckFreiburger/vue-pdf -->\n\n      <b-row v-if=\"pybossa.userProgressInPercent < 100\">\n      \n        <!-- Form zone -->\n        <b-col md=\"4\" class=\"mt-4 mt-md-0 order-2 order-md-1\">\n        \n          <!-- Question -->\n          <h2>{{ question }}</h2>\n    \n          <!-- Answer text areas -->\n          <b-form-group\n              :key=\"index\"\n              v-for=\"(description, index) in descriptions\"\n              :label=\"description\"\n              :state=\"isFieldValid(answers[index])\"\n              invalid-feedback=\"This field is required\"\n              class=\"mt-4\"\n            >\n            <b-form-textarea v-model=\"answers[index]\" rows=\"10\"></b-form-textarea>\n          </b-form-group>\n         \n          <!-- Submit button -->\n          <b-button @click=\"submit\" variant=\"primary\" class=\"mt-2\">Submit transcription!</b-button>\n          \n          <!-- Form validation errors -->\n          <b-alert variant=\"danger\" v-model=\"showAlert\" class=\"mt-2\" dismissible>\n            You must complete the form to submit\n          </b-alert>\n          \n          <!-- User progress -->\n          <p class=\"mt-2\">You are working now on task: <b-badge variant=\"warning\">{{ task.id }}</b-badge></p>\n          <p>You have completed: <b-badge variant=\"primary\">{{ pybossa.userProgress.done }}</b-badge> tasks from <b-badge variant=\"primary\">{{ pybossa.userProgress.total }}</b-badge></p>\n          \n          <b-progress :value=\"pybossa.userProgressInPercent\" :max=\"100\"></b-progress>\n        </b-col>\n        \n        <!-- Media -->\n        <b-col md=\"8\" class=\"order-1 order-md-2\">\n          <div v-if=\"taskInfo.pdf_url\" class=\"text-center\">\n            <pdf\n                v-if=\"pybossa.taskLoaded && taskInfo.page && taskInfo.page.length > 0\"\n                class=\"w-100 shadow\"\n                :src=\"taskInfo.pdf_url\"\n                :page=\"parseInt(taskInfo.page)\">\n            </pdf>\n            <div v-else-if=\"pybossa.taskLoaded\">\n              <b-pagination\n                v-model=\"currentPage\"\n                :total-rows=\"pageCount\"\n                :per-page=\"1\"\n                align=\"center\">\n              </b-pagination>\n              <pdf\n                  class=\"w-100 shadow\"\n                  @num-pages=\"pageCount = $event\"\n                  :src=\"taskInfo.pdf_url\"\n                  :page=\"currentPage\">\n              </pdf>\n            </div>\n            <b-spinner v-else style=\"width: 4rem; height: 4rem;\" variant=\"primary\" label=\"Pdf loading...\"></b-spinner>\n          </div>\n          <b-alert v-else :show=\"true\" variant=\"danger\">Document not available</b-alert>\n        </b-col>\n      </b-row>\n      \n      <!-- Task end message -->\n      <b-row v-else>\n        <b-col>\n          <b-jumbotron header=\"This the end!\" lead=\"Thanks you for your participation\"></b-jumbotron>\n        </b-col>\n      </b-row>`,\n\n    /* All template data */\n    data: {\n      question: 'Transcribe the following page',\n      descriptions: [\n        'Write here the transcription'\n      ],\n      answers: [],\n      showAlert: false,\n      pageCount: 0,\n      currentPage: 1\n    },\n\n    methods: {\n      submit () {\n        if (this.isFormValid()) {\n          this.pybossa.saveTask(this.answers)\n          this.answers.forEach((el, index, array) => {\n            array[index] = ''\n          })\n          this.showAlert = false\n        } else {\n          this.showAlert = true\n        }\n      },\n      isFieldValid (field) {\n        return field.length > 0\n      },\n      isFormValid () {\n        return !this.answers.some(el => el.length === 0)\n      }\n    },\n\n    computed: {\n      task () {\n        return this.pybossa.task\n      },\n      taskInfo () {\n        return this.task.info\n      }\n    },\n\n    watch: {\n\n    },\n\n    created () {\n      this.descriptions.forEach(() => this.answers.push(''))\n    },\n\n    mounted () {\n      this.pybossa.run()\n    },\n\n    props: {\n      /* Injected by the Pybossa App */\n      pybossa: {\n        required: true\n      }\n    }\n  }\n\nexport default component\n"},"lineCount":null}},"error":null,"hash":"1da94f24d9876a88a0a31a8cc9aee67a","cacheData":{"env":{}}}